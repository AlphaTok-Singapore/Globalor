import{j as e}from"./jsx-runtime-CDt2p4po.js";import{r as g}from"./index-GiUgBvb1.js";import"./button-BOzJErBH.js";import"./form-DqnBwsHn.js";import"./avatar-BYSUeMhA.js";import{a as v,B as M,P as T}from"./block-layout-D-p3nEi9.js";import{T as o}from"./input-CSREpmAm.js";import"./button-group-BF4G9tiV.js";import"./color-palette-D4ovNoSo.js";import{i as l,F,j as S}from"./page-header-CCd0yR5Z.js";import"./city-select-BCBS-J65.js";import"./cascader-BW_rWrKa.js";import"./tags-input-BAcvn557.js";import{T as I}from"./top-nav-Bx57XzOR.js";import"./toast-BISE-kuu.js";import{T as L}from"./tags-3RK0HEEA.js";import{c as u}from"./createLucideIcon-Do1tV511.js";import"./index-DAEUSR7T.js";import"./index-CROobee-.js";import"./utils-z-I-gj-J.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=u("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=u("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=u("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),R=({rating:a,maxRating:t=10})=>{const r=a/t*5,s=Math.floor(r),n=r%1>=.5,i=5-s-(n?1:0);return e.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:s},(d,m)=>e.jsx("svg",{className:"w-3 h-3 text-amber-500 dark:text-amber-400 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`full-${m}`)),n&&e.jsxs("svg",{className:"w-3 h-3 text-amber-500 dark:text-amber-400",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-star",children:[e.jsx("stop",{offset:"50%",stopColor:"currentColor"}),e.jsx("stop",{offset:"50%",stopColor:"transparent"})]})}),e.jsx("path",{fill:"url(#half-star)",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}),e.jsx("path",{fill:"transparent",stroke:"currentColor",strokeWidth:"1",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}),Array.from({length:i},(d,m)=>e.jsx("svg",{className:"w-3 h-3 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`empty-${m}`)),e.jsx("span",{className:"text-sm font-medium ml-1",children:a.toFixed(1)})]})},j=({movie:a,onClick:t})=>{const r=()=>{t==null||t(a.id)};return e.jsx(v,{padding:"default",shadow:"xs",className:"cursor-pointer hover:shadow-md transition-shadow duration-200 relative",onClick:r,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-20 rounded-md overflow-hidden flex-shrink-0 bg-muted",children:e.jsx("img",{src:a.poster,alt:a.title,className:"w-full h-full object-cover",onError:s=>{s.currentTarget.style.display="none"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(o,{variant:"h3",className:"font-medium mb-1 line-clamp-1",children:a.title}),e.jsxs("div",{className:"mb-2",children:[e.jsx(R,{rating:a.rating}),a.ratingCount&&e.jsxs(o,{variant:"muted",className:"text-xs mt-1",children:["(",a.ratingCount,"人评价)"]})]}),e.jsxs(o,{variant:"muted",className:"text-sm mb-1",children:[a.year," / ",a.country]}),e.jsxs(o,{variant:"muted",className:"text-sm mb-2 line-clamp-2",children:["导演: ",a.directors.join("、")," / 主演: ",a.actors.join("、")]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.genres.slice(0,3).map((s,n)=>e.jsx(L,{variant:"default",children:s},n))})]})]})})};j.__docgenInfo={description:"",methods:[],displayName:"MovieCard",props:{movie:{required:!0,tsType:{name:"Movie"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(movieId: string) => void",signature:{arguments:[{type:{name:"string"},name:"movieId"}],return:{name:"void"}}},description:""}}};const A=()=>e.jsx("div",{className:"rounded-lg border border-block-layout-border bg-block-layout p-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(l,{className:"w-16 h-20 rounded-md flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx(l,{className:"h-5 w-3/4"}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx(l,{className:"h-3 w-20"})}),e.jsx(l,{className:"h-3 w-16"}),e.jsx(l,{className:"h-3 w-1/2"}),e.jsx(l,{className:"h-3 w-full"}),e.jsx(l,{className:"h-3 w-2/3"}),e.jsxs("div",{className:"flex gap-1 pt-1",children:[e.jsx(l,{className:"h-5 w-12 rounded-full"}),e.jsx(l,{className:"h-5 w-12 rounded-full"}),e.jsx(l,{className:"h-5 w-12 rounded-full"})]})]})]})}),w=({movies:a,onMovieClick:t,showTitle:r=!0,title:s="豆瓣电影排行榜",isLoading:n=!1})=>a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx(o,{variant:"h3",className:"mb-2",children:"暂无符合条件的电影"}),e.jsx(o,{variant:"muted",children:"请尝试调整筛选条件"})]}):e.jsxs("div",{children:[r&&e.jsx(o,{variant:"h2",className:"mb-4",children:s}),e.jsx("div",{className:"grid gap-4",children:n?Array.from({length:4},(i,d)=>e.jsx(A,{},d)):a.map(i=>e.jsx(j,{movie:i,onClick:t},i.id))})]});w.__docgenInfo={description:"",methods:[],displayName:"MovieList",props:{movies:{required:!0,tsType:{name:"Array",elements:[{name:"Movie"}],raw:"Movie[]"},description:""},onMovieClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(movieId: string) => void",signature:{arguments:[{type:{name:"string"},name:"movieId"}],return:{name:"void"}}},description:""},showTitle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'豆瓣电影排行榜'",computed:!1}},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const N=({categories:a,filters:t,onFiltersChange:r})=>{const s=i=>{const d=i.length>0?i[0]:"all";r({...t,category:d})},n=a.map(i=>({value:i.value,label:i.name,disabled:!1}));return e.jsx(F,{options:n,selectedValues:[t.category],onSelectedValuesChange:s,allowMultiple:!1,orientation:"horizontal",size:"default"})};N.__docgenInfo={description:"",methods:[],displayName:"MovieFilters",props:{categories:{required:!0,tsType:{name:"Array",elements:[{name:"MovieCategory"}],raw:"MovieCategory[]"},description:""},filters:{required:!0,tsType:{name:"FilterState"},description:""},onFiltersChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(filters: FilterState) => void",signature:{arguments:[{type:{name:"FilterState"},name:"filters"}],return:{name:"void"}}},description:""}}};const W=({change:a})=>a>0?e.jsxs("div",{className:"flex items-center text-destructive",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:a})]}):a<0?e.jsxs("div",{className:"flex items-center text-success",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:Math.abs(a)})]}):e.jsx("div",{className:"flex items-center text-muted-foreground",children:e.jsx("span",{className:"text-xs",children:"-"})}),k=({rankingData:a,onItemClick:t})=>e.jsxs(v,{padding:"default",shadow:"xs",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(o,{variant:"h3",className:"font-medium",children:"一周口碑榜"}),e.jsx(o,{variant:"muted",className:"text-xs",children:"6月27日 更新"})]}),e.jsx("div",{className:"space-y-3",children:a.map((r,s)=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-muted/50 p-2 -m-2 rounded transition-colors duration-200",onClick:()=>t==null?void 0:t(r.id),children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(M,{variant:s<3?"destructive":"muted",className:"w-4 h-4 rounded-full p-0 text-xs flex items-center justify-center",children:s+1}),e.jsx(o,{variant:"body",className:"text-sm line-clamp-1 flex-1",children:r.title})]}),e.jsx(W,{change:r.change})]},r.id))})]});k.__docgenInfo={description:"",methods:[],displayName:"WeeklyRankingSidebar",props:{rankingData:{required:!0,tsType:{name:"Array",elements:[{name:"WeeklyRankingItem"}],raw:"WeeklyRankingItem[]"},description:""},onItemClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(itemId: string) => void",signature:{arguments:[{type:{name:"string"},name:"itemId"}],return:{name:"void"}}},description:""}}};const z=[{id:"all",name:"全部",value:"all"},{id:"drama",name:"剧情",value:"drama"},{id:"comedy",name:"喜剧",value:"comedy"},{id:"action",name:"动作",value:"action"},{id:"scifi",name:"科幻",value:"scifi"},{id:"animation",name:"动画",value:"animation"},{id:"romance",name:"爱情",value:"romance"},{id:"thriller",name:"惊悚",value:"thriller"},{id:"fantasy",name:"奇幻",value:"fantasy"},{id:"crime",name:"犯罪",value:"crime"},{id:"family",name:"家庭",value:"family"},{id:"war",name:"战争",value:"war"},{id:"history",name:"历史",value:"history"},{id:"western",name:"西部",value:"western"},{id:"musical",name:"歌舞",value:"musical"},{id:"sport",name:"运动",value:"sport"},{id:"documentary",name:"纪录片",value:"documentary"},{id:"short",name:"短片",value:"short"},{id:"adult",name:"情色",value:"adult"},{id:"gay",name:"同性",value:"gay"}],B=[{id:"1",title:"死神来了6：血脉诅咒",poster:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=300&h=400&fit=crop",rating:6.9,ratingCount:57882,genres:["惊悚","科幻","恐怖"],year:"2025",country:"法国 / 美国 / 中国大陆",directors:["凯伦·琳"],actors:["胡安娜","特里克·希尔德","乔伊·安德森"],description:"2025-05-14(法国) / 2025-05-16(美国) / 2025中国大陆",rank:1,isHot:!0},{id:"2",title:"惊变28年",poster:"https://images.unsplash.com/photo-1440404653325-ab127d49abc1?w=300&h=400&fit=crop",rating:7.1,ratingCount:2639,genres:["科幻","惊悚","恐怖"],year:"2025",country:"中国台湾 / 美国",directors:["丹尼·博伊尔"],actors:["杰克·奥康奈尔","艾文·布雷纳"],description:"2025-06-18(中国台湾) / 2025-06-20(美国)",rank:2},{id:"3",title:"罪人",poster:"https://images.unsplash.com/photo-1518676590629-3dcbd9c5a5c9?w=300&h=400&fit=crop",rating:7.7,ratingCount:42291,genres:["剧情","犯罪"],year:"2025",country:"法国 / 美国",directors:["迈克尔·曼"],actors:["奥斯卡·伊萨克","杰西卡·查斯坦"],description:"2025-04-16(法国) / 2025-04-18(美国)",rank:3},{id:"4",title:"F1：狂飙飞车",poster:"https://images.unsplash.com/photo-1551269901-5c5e14c25df7?w=300&h=400&fit=crop",rating:8.2,ratingCount:15234,genres:["动作","运动","剧情"],year:"2025",country:"美国 / 英国",directors:["约瑟夫·科辛斯基"],actors:["布拉德·皮特","达米安·路易斯"],description:"2025-06-27更新",rank:4,isHot:!0},{id:"5",title:"新刺龙之子",poster:"https://images.unsplash.com/photo-1574267432553-4b4628081c31?w=300&h=400&fit=crop",rating:6.8,ratingCount:8956,genres:["动作","冒险"],year:"2025",country:"中国大陆",directors:["张艺谋"],actors:["易烊千玺","张子枫"],description:"2025-07-15(中国大陆)",rank:5},{id:"6",title:"线虫战士：余韵之王",poster:"https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?w=300&h=400&fit=crop",rating:7.3,ratingCount:23891,genres:["科幻","动作"],year:"2025",country:"美国",directors:["丹尼斯·维伦纽瓦"],actors:["提摩西·查拉梅","赞达亚"],description:"2025-03-21(美国)",rank:6},{id:"7",title:"罗马人帝国",poster:"https://images.unsplash.com/photo-1594909122845-11baa439b7bf?w=300&h=400&fit=crop",rating:8.1,ratingCount:67234,genres:["历史","战争","剧情"],year:"2024",country:"美国 / 英国",directors:["雷德利·斯科特"],actors:["保罗·麦斯卡","佩德罗·帕斯卡"],description:"2024-11-22(美国)",rank:7},{id:"8",title:"名侦探柯南：血腥的追踪",poster:"https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=300&h=400&fit=crop",rating:7.9,ratingCount:45672,genres:["动画","悬疑","犯罪"],year:"2025",country:"日本",directors:["山本泰一郎"],actors:["高山南","山崎和佳奈"],description:"2025-04-19(日本)",rank:8}],H=[{id:"1",title:"F1：狂飙飞车",change:10},{id:"2",title:"新刺龙之子手",change:1},{id:"3",title:"线虫战士：余韵之王",change:0},{id:"4",title:"罪人",change:-2},{id:"5",title:"但愿人长久",change:6},{id:"6",title:"大风起",change:-5},{id:"7",title:"名侦探柯南：血腥的追踪",change:4},{id:"8",title:"死神来了6：血脉诅咒",change:-3},{id:"9",title:"死神来了6：血脉诅咒",change:2},{id:"10",title:"制尼重计划",change:-1}],h=()=>{const[a,t]=g.useState({category:"all"}),[r,s]=g.useState(!1),n=c=>{s(!0),setTimeout(()=>{t(c),s(!1)},300)},i=c=>{console.log("Selected movie:",c)},d=c=>{console.log("Selected weekly ranking item:",c)},m=c=>{console.log("TopNav action:",c)},b=B.filter(c=>a.category==="all"?!0:({drama:["剧情"],comedy:["喜剧"],action:["动作"],scifi:["科幻"],animation:["动画"],romance:["爱情"],thriller:["惊悚"],fantasy:["奇幻"],crime:["犯罪"],family:["家庭"],war:["战争"],history:["历史"],western:["西部"],musical:["歌舞"],sport:["运动"],documentary:["纪录片"],short:["短片"],adult:["情色"],gay:["同性"]}[a.category]||[]).some(C=>c.genres.includes(C)));return e.jsxs("div",{className:"flex flex-col h-screen w-full",children:[e.jsx(I,{isLoggedIn:!0,avatarFallback:"U",userName:"User",onHelpClick:()=>m("help"),onAvatarClick:()=>m("profile"),onLogoClick:()=>m("home")}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx(T,{variant:"full",padding:"nav-layout",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"flex-1 lg:flex-[2] flex flex-col space-y-6",children:[e.jsx(S,{variant:"title-with-toolbar",title:"豆瓣电影排行榜",filters:e.jsx(N,{categories:z,filters:a,onFiltersChange:n})}),e.jsx("div",{className:"flex-1",children:e.jsx(w,{movies:b,onMovieClick:i,showTitle:!1,isLoading:r})})]}),e.jsx("div",{className:"w-full lg:w-80 lg:flex-shrink-0",children:e.jsx("div",{className:"lg:sticky lg:top-6",children:e.jsx(k,{rankingData:H,onItemClick:d})})})]})})})]})};h.__docgenInfo={description:"",methods:[],displayName:"Demo5"};const ce={title:"Demos/05-MovieRanking",component:h,parameters:{layout:"fullscreen"}},p={name:"电影排行榜",render:()=>e.jsx(h,{})};var x,f,y;p.parameters={...p.parameters,docs:{...(x=p.parameters)==null?void 0:x.docs,source:{originalSource:`{
  name: '电影排行榜',
  render: () => <Demo5 />
}`,...(y=(f=p.parameters)==null?void 0:f.docs)==null?void 0:y.source}}};const de=["Default"];export{p as Default,de as __namedExportsOrder,ce as default};
